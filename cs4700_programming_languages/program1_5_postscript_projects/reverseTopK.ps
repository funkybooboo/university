%!PS

% Author: Nate Stott
% Date: Sep 6 2023
% Assignment 1 part 3/5 for Curtis Dyreson CS4700 USU 

% Use examples:
% 1 2 3 4 5 3 reverseTopK -> 1 2 5 4 3
% 1 2 3 4 5 5 reverseTopK -> 4 3 2 1
% 2 1 reverseTopK -> 2
% 3 reverseTopK -> -
% 3 2 1 reverseTopK -> 3 2 

/reverseTopK 
{
    1 dict begin
        count 2 ge      % check that there is at least 2 item on the stack
        {
            /num exch def       % map /num to the top item on the stack
            num 1 sub           % loop over the list /num - 1 times
            {
                num 1 roll      % move the top item on the stack to the /num spot on the stack
                /num num 1 sub def  % substract 1 from /num and remap
            }
            repeat
        }
        {
            count 1 ge  % if there is one item on the stack then get rid of it
            {
                pop
            }
            if
        }
        ifelse
    end
} 
def